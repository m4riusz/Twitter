<template>
    <require from='../../templates/tweet/tweet-template'></require>
    <require from='../../templates/tag/tag-template.html'></require>
    <require from='../../templates/tag/tag-input'></require>

    <div class="alert alert-info">
        <h4>My favourite tags: </h4>
        <tag-template repeat.for="tag of currentLoggedUser.favouriteTags" tag.bind="tag"></tag-template>
        <a if.bind="currentLoggedUser.favouriteTags.length == 1 && currentTagFollowed == false"
           class="btn btn-primary btn-xs pull-right" click.delegate="addTagToFavourites(currentLoggedUser.favouriteTags[0])">
            <span class="glyphicon glyphicon-star-empty"></span></a>
        <a if.bind="tags.length == 1 && currentTagFollowed == true"
           class="btn btn-primary btn-xs pull-right" click.delegate="deleteTagFromFavourites(currentLoggedUser.favouriteTags[0])">
            <span class="glyphicon glyphicon-star"></span></a>
    </div>
    <div class="panel">
        <div class="btn-group pull-left">
            <a class="btn btn-default" click.delegate="setMode(0)">Latest</a>
            <a class="btn btn-default" click.delegate="setMode(1)">Hot 6h</a>
            <a class="btn btn-default" click.delegate="setMode(2)">Hot 12h</a>
            <a class="btn btn-default" click.delegate="setMode(3)">Hot 24h</a>
        </div>
        <div class="pull-right">
            <tag-input></tag-input>
        </div>
    </div>
    <div class="container">
        <hr/>
    </div>
    <div repeat.for="tweet of tweets">
        <tweet-template tweet.bind="tweet" current-user.bind="currentLoggedUser"></tweet-template>
    </div>
    <div class="well well-sm text-center" click.delegate="getNextPage()">
        <h3 class="h3">More</h3>
    </div>
</template>